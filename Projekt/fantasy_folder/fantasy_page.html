<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy books</title>
    <link rel="stylesheet" href="fantasy_style.css">
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
</head>

<body>
    <header>
        <h1>Library of books</h1>
        <h2>List of fantasy books</h2>
        <h4>Project was made as a project for the subject "Basics of Web Applications"</h4>
        <p class="cursive">Author: Ivan Kaliadzich</p>
    </header>

    <div id="user-info" class="user-info" style="display: none;">
        <h3>Welcome, <span id="user-name"></span>!</h3>
        <button onclick="logout()">Sign Out</button>
    </div>

    <div class="book-list">
        <a href="all_books/Fourth_wing.html" class="book-item">
            <img src="all_books/fantasy_pictures/Fourth wing.jpg" alt="Book 1">
            <div class="book-info">
                <div class="book-title">Fourth wing</div>
                <div class="book-author">Rebecca Yarros</div>
                <div class="book-cost">47,99 zł</div>
            </div>
        </a>

        <a href="all_books/The_Art_of_Guweiz.html" class="book-item">
            <img src="all_books/fantasy_pictures/The Art of Guweiz.jpg" alt="Book 2">
            <div class="book-info">
                <div class="book-title">The Art of Guweiz</div>
                <div class="book-author">Zheng Wei Gu</div>
                <div class="book-cost">135,62 zł</div>
            </div>
        </a>

        <a href="all_books/A_court_of_thorns_and_roses.html" class="book-item">
            <img src="all_books/fantasy_pictures/A court of thorns and roses.jpg" alt="Book 3">
            <div class="book-info">
                <div class="book-title">A court of thorns and roses</div>
                <div class="book-author">Sarah J. Maas</div>
                <div class="book-cost">33,81 zł</div>
            </div>
        </a>

        <a href="all_books/Once_You're_Mine.html" class="book-item">
            <img src="all_books/fantasy_pictures/Once You're Mine.jpg" alt="Book 4">
            <div class="book-info">
                <div class="book-title">Once You're Mine: A Dark Stalker Romance</div>
                <div class="book-author">Morgan Bridges</div>
                <div class="book-cost">79,85 zł</div>
            </div>
        </a>

        <a href="all_books/Two_twisted_crowns.html" class="book-item">
            <img src="all_books/fantasy_pictures/Two twisted crowns.jpg" alt="Book 5">
            <div class="book-info">
                <div class="book-title">Two twisted crowns</div>
                <div class="book-author">Rachel Gillig</div>
                <div class="book-cost">42,24 zł</div>
            </div>
        </a>
    </div>

    <div class="back-button">
        <a href="#" onclick="history.back(); return false;">
            <img src="all_books/fantasy_pictures/back button.png" alt="Go Back">
        </a>
    </div>

    <script>
        // Your Firebase configuration object
        const firebaseConfig = {
            apiKey: "AIzaSyA-WIh8GxieOvLfcsa0QrL29GgrJWLdoug",
            authDomain: "bookslibrary-885e3.firebaseapp.com",
            projectId: "bookslibrary-885e3",
            storageBucket: "bookslibrary-885e3.appspot.com",
            messagingSenderId: "767459073549",
            appId: "1:767459073549:web:736693063c0ccd654cff44",
            measurementId: "G-LVF1C9385Y"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Check if the user is logged in when the page loads
        firebase.auth().onAuthStateChanged((user) => {
            if (user) {
                // User is signed in, show the user info
                var username = user.email.split('@')[0]; // Assuming username is the part before '@'
                document.getElementById('user-name').innerText = username;
                document.getElementById('user-info').style.display = 'block';
            }
        });

        function logout() {
            firebase.auth().signOut().then(() => {
                window.location.href = '../main_page.html';  // Redirect to main page
            }).catch((error) => {
                console.error("Error signing out: ", error);
            });
        }
    </script>
</body>
</html>
