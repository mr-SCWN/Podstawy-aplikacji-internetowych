<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crime books</title>
    <link rel="stylesheet" href="crime_style.css">
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
</head>

<body>
    <header>
        <h1>Library of books</h1>
        <h2>List of crime books</h2>
        <h4>Project was made as a project for the subject "Basics of Web Applications"</h4>
        <p class="cursive">Author: Ivan Kaliadzich</p>
    </header>

    <div id="user-info" class="user-info" style="display: none;">
        <h3>Welcome, <span id="user-name"></span>!</h3>
        <button onclick="logout()">Sign Out</button>
    </div>

    <div class="book-list">
        <a href="all_books/The_Girl_with_the_Dragon_Tattoo.html" class="book-item">
            <img src="all_books/crime_pictures/The Girl with the Dragon Tattoo.webp" alt="Book 1">
            <div class="book-info">
                <div class="book-title">The Girl with the Dragon Tattoo</div>
                <div class="book-author">Stieg Larsson</div>
                <div class="book-cost">40,67 zł</div>
            </div>
        </a>

        <a href="all_books/And_Then_There_Were_None.html" class="book-item">
            <img src="all_books/crime_pictures/And Then There Were None.webp" alt="Book 2">
            <div class="book-info">
                <div class="book-title">And Then There Were None</div>
                <div class="book-author">Agatha Christie</div>
                <div class="book-cost">62,85 zł</div>
            </div>
        </a>

        <a href="all_books/Angels_&_Demons.html" class="book-item">
            <img src="all_books/crime_pictures/Angels & Demons.webp" alt="Book 3">
            <div class="book-info">
                <div class="book-title">Angels and Demons: (Robert Langdon Book 1)</div>
                <div class="book-author">Dan Brown</div>
                <div class="book-cost">28,03 zł</div>
            </div>
        </a>

        <a href="all_books/Rebecca.html" class="book-item">
            <img src="all_books/crime_pictures/Rebecca.webp" alt="Book 4">
            <div class="book-info">
                <div class="book-title">Rebecca</div>
                <div class="book-author">Daphne du Maurier</div>
                <div class="book-cost">64,35 zł</div>
            </div>
        </a>

        <a href="all_books/In_Cold_Blood.html" class="book-item">
            <img src="all_books/crime_pictures/In Cold Blood.webp" alt="Book 5">
            <div class="book-info">
                <div class="book-title">In Cold Blood</div>
                <div class="book-author">Truman Capote</div>
                <div class="book-cost">42,32 zł</div>
            </div>
        </a>
    </div>

    <div class="back-button">
        <a href="#" onclick="history.back(); return false;">
            <img src="all_books/crime_pictures/back button.png" alt="Go Back">
        </a>
    </div>

    <script>
        // Your Firebase configuration object
        const firebaseConfig = {
            apiKey: "AIzaSyA-WIh8GxieOvLfcsa0QrL29GgrJWLdoug",
            authDomain: "bookslibrary-885e3.firebaseapp.com",
            projectId: "bookslibrary-885e3",
            storageBucket: "bookslibrary-885e3.appspot.com",
            messagingSenderId: "767459073549",
            appId: "1:767459073549:web:736693063c0ccd654cff44",
            measurementId: "G-LVF1C9385Y"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Check if the user is logged in when the page loads
        firebase.auth().onAuthStateChanged((user) => {
            if (user) {
                // User is signed in, show the user info
                var username = user.email.split('@')[0]; // Assuming username is the part before '@'
                document.getElementById('user-name').innerText = username;
                document.getElementById('user-info').style.display = 'block';
            }
        });

        function logout() {
            firebase.auth().signOut().then(() => {
                window.location.href = '../main_page.html';  // Redirect to main page
            }).catch((error) => {
                console.error("Error signing out: ", error);
            });
        }
    </script>
</body>
</html>
